/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

@import "_oa";

@include font-face("Monaco", font-files("monaco/monaco.ttf", "monaco/monaco.otf"));
// @include font-face("icomoon", font-files("icomoon/icomoon.eot", "icomoon/icomoon.woff", "icomoon/icomoon.ttf", "icomoon/icomoon.svg"));
// [class^="icon-"], [class*=" icon-"] {
//   font-family: 'icomoon', Monaco, "微軟正黑體", "Microsoft JhengHei";
//   speak: none;
//   font-style: normal;
//   font-weight: normal;
//   font-variant: normal;
//   text-transform: none;
//   line-height: 1;

//   @include font-smoothing(antialiased);
// }

* {
  &, &:after, &:before {
    vertical-align: top;
    @include box-sizing(border-box);
    @include selection(rgba(150, 200, 255, 1), rgba(255, 255, 255, 1));
    @include font-smoothing(antialiased);
  }
}

html {
  height: 100%;

  body {
    position: relative;
    display: inline-block;
    text-align: center;
    margin: 0;
    width: 100%;
    height: 100%;
    font-size: medium;
    font-family: Monaco, "微軟正黑體", "Microsoft JhengHei";
    background: $mainBackgroundColor $mainBackgroundImage;
    color: rgba(50, 50, 50, 0.8);

    @include font-smoothing(antialiased);
    
    #container {
      position: relative;
      display: block;
      margin: 0 auto;
      max-width: $mainWidth;

      padding: 0 10px;

      @media screen and (min-width: #{$mainWidth}) {
        padding: 0;
      }
    }
  }
}
$w: 20px;
$m: 5px;
$n-count: 12;
$t-ani: 1s;
$n-offset: -2;


@keyframes wave-scale {
  0%   {transform: translate(-50%, -50%) scale(.9); }
  100% {transform: translate(-50%, -50%) scale(.1); }
}

.box {
  display: inline-block;
  width: ($w + $m * 2) * $n-count;
  margin: auto;
  @include clearfix();
  // background-color: rgba(0, 0, 255, 0.2);
  
  .dot {
    position: relative;
    width: $w;
    height: $w;
    margin: $m;
    float: left;
    // border: 1px solid rgba(255, 0, 0, .3);
    // animation: wave-rotate $t-ani linear infinite;
    
    @include transform(rotate(0deg));
    @include animation(wave $t-ani linear infinite);
    @include keyframes(wave){
        from { @include transform(rotate(0deg)); }
        to { @include transform(rotate(360deg)); }
    }

    @for $i from 1 through ($n-count*$n-count) {
      &:nth-child(#{$i}) {
        @include animation-delay($i * (-1 * $t-ani / ($n-count  + $n-offset)));
      }
    }
    &:before {
      content: '';
      position: absolute;
      top: 1px;
      left: calc(50% - #{$w - 7px} / 2);
      width: $w - 7px;
      height: $w - 7px;
      background-color: rgba(39, 40, 34, .3);
      border-radius: 50%;
      // @include transform(rotate(0deg));
      // transform: translate(-50%, -70%) scale(.5);
      color: #f00;
      z-index: 2;
      @include box-shadow(0 0 1px rgba(39, 40, 34, 1));
    }
    &:after {
      content: '';
      display: inline-block;
      position: absolute;
      top: 0;
      left: 0;
      display: inline-block;
      width: 100%;
      height: 100%;
      background-color: rgba(225, 225, 225, 1);
      z-index: 1;
      @include border-radius(50%);
      // border: 1px solid rgba(255, 0, 0, .3);
      @include box-shadow(inset 1px 1px 1px rgba(39, 40, 34, .3), inset 0 0 1px rgba(39, 40, 34, .2), 1px 1px 1px rgba(255, 255, 255, 1));  
      @include transform(rotate(360deg));
      @include animation(wave2 $t-ani linear infinite);
      @include keyframes(wave2){
        from { @include transform(rotate(360deg)); }
        to { @include transform(rotate(0deg)); }
      }
    }
    // @include box-shadow(inset 1px 1px 1px rgba(39, 40, 34, .3), inset 0 0 1px rgba(39, 40, 34, .2), 1px 1px 1px rgba(255, 255, 255, 1));

    // &::before {
    //   content: '1';
    //   position: absolute;
    //   top: calc(50% - #{$w - 10px} / 2);
    //   left: calc(50% - #{$w - 10px} / 2);
    //   width: $w - 10px;
    //   height: $w - 10px;
    //   background-color: rgba(39, 40, 34, 1);
    //   border-radius: 50%;
    //   // @include transform(rotate(0deg));
    //   // transform: translate(-50%, -70%) scale(.5);
    //   color: #f00;

    //   animation: wave-rotate $t-ani linear infinite;
      
    //   @keyframes wave-rotate {
    //     from { 
    //       // @include transform(rotate(0deg));
    //     }
    //     to   {
    //       // @include transform(rotate(360deg));
    //     }
    //   }
    // }

    // background-color: rgba(255, 255, 255, 1);
    // animation: wave-rotate $t-ani linear infinite;
    // // @include box-shadow(inset 0 0 1px rgba(39, 40, 34, .5));
    // // border: 1px solid rgba(255, 0, 0, .3);

    // @keyframes wave-rotate {
    //   from { transform: rotate(0turn);}
    //   to   { transform: rotate(1turn);}
    // }

    // &::before {
    //   content: '';
    //   position: absolute;
    //   top: 50%;
    //   left: 50%;
    //   width: 100%;
    //   height: 100%;
    //   background-color: rgba(39, 40, 34, 1);
    //   border-radius: 50%;
    //   transform: translate(-50%, -70%) scale(.5);
    //   color: #f00;
    // }

    // @for $i from 1 through ($n-count*$n-count) {
    //   &:nth-of-type(#{$i}) {
    //     animation-delay: $i * (-1 * $t-ani / ($n-count  + $n-offset));
    //   }
    // }
  }
  // &:hover .dot {
  //   animation-play-state: paused;
  // }
  // &:active .dot {
  //   animation-play-state: running;
  // }
}
