/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

@import "_oa";

#popanel {
  position: absolute;
  z-index: 999;
  top: -100%;
  left: 0;
  display: inline-block;
  width: 100%;
  height: 100%;

  @include opacity(0);
  

  &:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    display: inline-block;
    width: 100%;
    height: 100%;
    background-color: red;
    z-index: 1;
    background-color: rgba(0, 0, 0, .8);
  }
  .content {
    position: absolute;
    width: 50px;
    height: 50px;

    display: inline-block;
    background-color: rgba(3, 169, 244, 1.00);
    border: 1px solid rgba(3, 169, 244, 1.00);
    z-index: 2;

    @include scale(0);
    @include opacity(0);
    @include border-radius(50%);
  }
  .loading {
    position: absolute;
    top: calc(50% - 50px / 2);
    left: calc(50% - 50px / 2);
    display: inline-block;
    width: 50px;
    height: 50px;
    background-color: rgba(6, 7, 8, 1.00);
    z-index: 3;
    @include opacity(0);
    @include border-radius(50%);
    @include animation(loading 2s linear infinite);

    span {
      position: absolute;
      top: (50px / 2 - 8px / 2);
      left: (50px / 2 - 8px / 2);
      display: inline-block;

      width: 8px;
      height: 8px;
      @include border-radius(50%);
      @include opacity(.75);

      $cs:(
        rgba(244, 67, 54, 1.00), //#f44336
        rgba(255, 87, 34, 1.00), //#ff5722
        rgba(255, 152, 0, 1.00), //#ff9800
        rgba(255, 235, 59, 1.00), //#ffeb3b
        rgba(76, 175, 80, 1.00), //#4caf50
        rgba(33, 150, 243, 1.00), //#2196f3
        rgba(3, 169, 244, 1.00), //#03a9f4
        rgba(0, 188, 212, 1.00)); //#00bcd4

      @for $i from 1 through 8 {
        &:nth-child(#{$i}){
          background-color: nth($cs,$i);
          top: sin(360deg / 8 * ($i - 1)) * (14px) + (50px / 2 - 8px / 2);
          left: cos(360deg / 8 * ($i - 1)) * (14px) + (50px / 2 - 8px / 2);
        }
      }
    }
  }

  &.step1 {
    top: 0;
    @include opacity(1);
    @include transition(opacity .5s);

    &.step2 {
      .content {
        @include scale(1);
        @include opacity(1);
        @include transition(opacity .3s, transform .3s);
      }

      &.step3 {
        .content {
          top: calc(50% - 50px / 2);
          left: calc(50% - 50px / 2);
          @include transition(top .3s, left .3s, width .3s, height .3s);
        }
        &.step4 {
          .loading {
            @include opacity(1);
            @include transition(opacity 1s);
          }
          .content {
            top: 10%;
            left: 10%;
            width: calc(100% - 10% * 2);
            height: calc(100% - 10% * 2);
            background-color: rgba(30, 34, 42, 1.00);
            @include border-radius(3px);
            @include transition(background-color .3s, top .3s, left .3s, width .3s, height .3s, border-radius .3s);
          }
          &.step5 {
            .loading {
              @include opacity(0);
            }
          }
          &.step6 {
            .content {
              width: 50px;
              height: 50px;
              top: calc(50% - 50px / 2);
              left: calc(50% - 50px / 2);
              background-color: rgba(3, 169, 244, 1.00);
              @include border-radius(50%);
              @include transition(background-color .3s, top .3s, left .3s, width .3s, height .3s, border-radius .3s);
              &:before, &:after {
                content: none;
              }
            }

            &.step7 {
              .content {
                @include scale(0);
                @include opacity(0);
                @include transition(opacity .3s, transform .3s);
              }
              &.step8 {
                top: -100%;
              }
            }
          }
        }
      }
    }
  }
}


@include keyframes(loading){
  0% {
    @include rotate(0);
  }
  100% {
    @include rotate(360deg);
  }
}

#popanel .content.dashboard_all {

  &:before {
    content: '';
    width: 1px;
    height: calc(50% - 10px + 5px);
    position: absolute;
    left: calc(50% - 1px / 2);
    top: 10px;
    background-color: rgba(10, 50, 75, 1.00);
  }

  > div {
    position: absolute;
    display: inline-block;
    width: calc(50% - 10px - 5px);
    height: calc(50% - 10px - 5px);
    overflow: hidden;
  }
  .chart1, .chart2 {
    top: 10px;
  }
  .chart1 {
    left: 10px;
  }
  .chart2 {
    right: 10px;
  }
  .chart3 {
    border: 0;
    border-top: 1px solid rgba(10, 50, 75, 1.00);
    bottom: 10px;
    left: 10px;
    width: calc(100% - 10px * 2);
    padding-left: 30px;
    padding-top: 40px;
  }
}